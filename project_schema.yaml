openapi: 3.0.3
info:
  title: Lotus API
  version: 0.0.1
  description: Lotus is an open-core pricing and billing engine. We enable API companies
    to automate and optimize their custom usage-based pricing for any metric.
paths:
  /api/cancel_subscription/:
    post:
      operationId: cancel_subscription_create
      tags:
      - cancel_subscription
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelSubscriptionRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CancelSubscriptionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CancelSubscriptionRequest'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelSubscriptionSuccess'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelSubscriptionFailure'
          description: ''
  /api/components/:
    get:
      operationId: components_list
      description: A simple ViewSet for viewing and editing Plan components.
      tags:
      - components
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PlanComponentRead'
          description: ''
    post:
      operationId: components_create
      description: A simple ViewSet for viewing and editing Plan components.
      tags:
      - components
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlanComponent'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PlanComponent'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PlanComponent'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanComponent'
          description: ''
  /api/components/{id}/:
    get:
      operationId: components_retrieve
      description: A simple ViewSet for viewing and editing Plan components.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this plan component.
        required: true
      tags:
      - components
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanComponentRead'
          description: ''
    put:
      operationId: components_update
      description: A simple ViewSet for viewing and editing Plan components.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this plan component.
        required: true
      tags:
      - components
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlanComponent'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PlanComponent'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PlanComponent'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanComponent'
          description: ''
    patch:
      operationId: components_partial_update
      description: A simple ViewSet for viewing and editing Plan components.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this plan component.
        required: true
      tags:
      - components
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPlanComponent'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPlanComponent'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPlanComponent'
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanComponent'
          description: ''
    delete:
      operationId: components_destroy
      description: A simple ViewSet for viewing and editing Plan components.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this plan component.
        required: true
      tags:
      - components
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
  /api/customer_access/:
    get:
      operationId: customer_access_retrieve
      parameters:
      - in: query
        name: customer_id
        schema:
          type: string
          minLength: 1
        required: true
      - in: query
        name: event_limit_type
        schema:
          enum:
          - free
          - total
          type: string
          minLength: 1
      - in: query
        name: event_name
        schema:
          type: string
          minLength: 1
      - in: query
        name: feature_name
        schema:
          type: string
          minLength: 1
      tags:
      - customer_access
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCustomerAccessSuccess'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetCustomerAccessFailure'
          description: ''
  /api/customer_detail/:
    get:
      operationId: customer_detail_retrieve
      description: Get the current settings for the organization.
      tags:
      - customer_detail
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerDetail'
          description: ''
  /api/customer_summary/:
    get:
      operationId: customer_summary_retrieve
      description: Get the current settings for the organization.
      tags:
      - customer_summary
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerSummary'
          description: ''
  /api/customer_totals/:
    get:
      operationId: customer_totals_list
      description: Return current usage for a customer during a given billing period.
      tags:
      - customer_totals
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CustomerWithRevenue'
          description: ''
  /api/customers/:
    get:
      operationId: customers_list
      description: A simple ViewSet for viewing and editing Customers.
      tags:
      - customers
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Customer'
          description: ''
    post:
      operationId: customers_create
      description: A simple ViewSet for viewing and editing Customers.
      tags:
      - customers
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Customer'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Customer'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Customer'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Customer'
          description: ''
  /api/customers/{customer_id}/:
    get:
      operationId: customers_retrieve
      description: A simple ViewSet for viewing and editing Customers.
      parameters:
      - in: path
        name: customer_id
        schema:
          type: string
        required: true
      tags:
      - customers
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Customer'
          description: ''
    put:
      operationId: customers_update
      description: A simple ViewSet for viewing and editing Customers.
      parameters:
      - in: path
        name: customer_id
        schema:
          type: string
        required: true
      tags:
      - customers
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Customer'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Customer'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Customer'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Customer'
          description: ''
    patch:
      operationId: customers_partial_update
      description: A simple ViewSet for viewing and editing Customers.
      parameters:
      - in: path
        name: customer_id
        schema:
          type: string
        required: true
      tags:
      - customers
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCustomer'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCustomer'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCustomer'
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Customer'
          description: ''
    delete:
      operationId: customers_destroy
      description: A simple ViewSet for viewing and editing Customers.
      parameters:
      - in: path
        name: customer_id
        schema:
          type: string
        required: true
      tags:
      - customers
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
  /api/draft_invoice/:
    get:
      operationId: draft_invoice_retrieve
      description: Pagination-enabled endpoint for retrieving an organization's event
        stream.
      parameters:
      - in: query
        name: customer_id
        schema:
          type: string
          minLength: 1
        required: true
      tags:
      - draft_invoice
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invoice'
          description: ''
  /api/event_preview/:
    get:
      operationId: event_preview_retrieve
      description: Pagination-enabled endpoint for retrieving an organization's event
        stream.
      parameters:
      - in: query
        name: page
        schema:
          type: integer
        required: true
      tags:
      - event_preview
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventPreview'
          description: ''
  /api/features/:
    get:
      operationId: features_list
      description: A simple ViewSet for viewing and editing Features.
      tags:
      - features
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Feature'
          description: ''
    post:
      operationId: features_create
      description: A simple ViewSet for viewing and editing Features.
      tags:
      - features
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Feature'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Feature'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Feature'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feature'
          description: ''
  /api/features/{id}/:
    get:
      operationId: features_retrieve
      description: A simple ViewSet for viewing and editing Features.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this feature.
        required: true
      tags:
      - features
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feature'
          description: ''
    put:
      operationId: features_update
      description: A simple ViewSet for viewing and editing Features.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this feature.
        required: true
      tags:
      - features
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Feature'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Feature'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Feature'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feature'
          description: ''
    patch:
      operationId: features_partial_update
      description: A simple ViewSet for viewing and editing Features.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this feature.
        required: true
      tags:
      - features
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedFeature'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedFeature'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedFeature'
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feature'
          description: ''
    delete:
      operationId: features_destroy
      description: A simple ViewSet for viewing and editing Features.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this feature.
        required: true
      tags:
      - features
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
  /api/invoices/:
    get:
      operationId: invoices_list
      description: A simple ViewSet for viewing and editing Invoices.
      tags:
      - invoices
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Invoice'
          description: ''
    post:
      operationId: invoices_create
      description: A simple ViewSet for viewing and editing Invoices.
      tags:
      - invoices
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Invoice'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Invoice'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Invoice'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invoice'
          description: ''
  /api/invoices/{id}/:
    get:
      operationId: invoices_retrieve
      description: A simple ViewSet for viewing and editing Invoices.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this invoice.
        required: true
      tags:
      - invoices
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invoice'
          description: ''
    put:
      operationId: invoices_update
      description: A simple ViewSet for viewing and editing Invoices.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this invoice.
        required: true
      tags:
      - invoices
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Invoice'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Invoice'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Invoice'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invoice'
          description: ''
    patch:
      operationId: invoices_partial_update
      description: A simple ViewSet for viewing and editing Invoices.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this invoice.
        required: true
      tags:
      - invoices
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedInvoice'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedInvoice'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedInvoice'
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invoice'
          description: ''
    delete:
      operationId: invoices_destroy
      description: A simple ViewSet for viewing and editing Invoices.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this invoice.
        required: true
      tags:
      - invoices
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
  /api/metrics/:
    get:
      operationId: metrics_list
      description: A simple ViewSet for viewing and editing Billable Metrics.
      tags:
      - metrics
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BillableMetric'
          description: ''
    post:
      operationId: metrics_create
      description: A simple ViewSet for viewing and editing Billable Metrics.
      tags:
      - metrics
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BillableMetric'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BillableMetric'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BillableMetric'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillableMetric'
          description: ''
  /api/metrics/{id}/:
    get:
      operationId: metrics_retrieve
      description: A simple ViewSet for viewing and editing Billable Metrics.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this billable metric.
        required: true
      tags:
      - metrics
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillableMetric'
          description: ''
    put:
      operationId: metrics_update
      description: A simple ViewSet for viewing and editing Billable Metrics.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this billable metric.
        required: true
      tags:
      - metrics
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BillableMetric'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BillableMetric'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BillableMetric'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillableMetric'
          description: ''
    patch:
      operationId: metrics_partial_update
      description: A simple ViewSet for viewing and editing Billable Metrics.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this billable metric.
        required: true
      tags:
      - metrics
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedBillableMetric'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedBillableMetric'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedBillableMetric'
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillableMetric'
          description: ''
    delete:
      operationId: metrics_destroy
      description: A simple ViewSet for viewing and editing Billable Metrics.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this billable metric.
        required: true
      tags:
      - metrics
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
  /api/new_api_key/:
    get:
      operationId: new_api_key_retrieve
      description: Revokes the current API key and returns a new one.
      tags:
      - new_api_key
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIKeyCreateSuccess'
          description: ''
  /api/period_metric_revenue/:
    get:
      operationId: period_metric_revenue_retrieve
      description: Returns the revenue for an organization in a given time period.
      parameters:
      - in: query
        name: period_1_end_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: period_1_start_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: period_2_end_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: period_2_start_date
        schema:
          type: string
          format: date
        required: true
      tags:
      - period_metric_revenue
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PeriodMetricRevenueResponse'
          description: ''
  /api/period_metric_usage/:
    get:
      operationId: period_metric_usage_retrieve
      description: Return current usage for a customer during a given billing period.
      parameters:
      - in: query
        name: end_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: start_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: top_n_customers
        schema:
          type: integer
      tags:
      - period_metric_usage
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PeriodMetricUsageResponse'
          description: ''
  /api/period_subscriptions/:
    get:
      operationId: period_subscriptions_retrieve
      parameters:
      - in: query
        name: period_1_end_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: period_1_start_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: period_2_end_date
        schema:
          type: string
          format: date
        required: true
      - in: query
        name: period_2_start_date
        schema:
          type: string
          format: date
        required: true
      tags:
      - period_subscriptions
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PeriodSubscriptionsResponse'
          description: ''
  /api/plans/:
    get:
      operationId: plans_list
      description: A simple ViewSet for viewing and editing BillingPlans.
      tags:
      - plans
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BillingPlanRead'
          description: ''
    post:
      operationId: plans_create
      description: A simple ViewSet for viewing and editing BillingPlans.
      tags:
      - plans
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BillingPlan'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BillingPlan'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BillingPlan'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillingPlan'
          description: ''
  /api/plans/{billing_plan_id}/:
    get:
      operationId: plans_retrieve
      description: A simple ViewSet for viewing and editing BillingPlans.
      parameters:
      - in: path
        name: billing_plan_id
        schema:
          type: string
        required: true
      tags:
      - plans
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BillingPlanRead'
          description: ''
    delete:
      operationId: plans_destroy
      description: A simple ViewSet for viewing and editing BillingPlans.
      parameters:
      - in: path
        name: billing_plan_id
        schema:
          type: string
        required: true
      tags:
      - plans
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
  /api/register/:
    post:
      operationId: register_create
      tags:
      - register
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Registration'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Registration'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Registration'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegistrationResponse'
          description: ''
  /api/stripe/:
    get:
      operationId: stripe_retrieve
      description: Check to see if user has connected their Stripe account.
      tags:
      - stripe
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StripeConnectedResponse'
          description: ''
    post:
      operationId: stripe_create
      description: Initialize Stripe after user inputs an API key.
      tags:
      - stripe
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StripeConnectRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/StripeConnectRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/StripeConnectRequest'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StripeImportResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StripeImportError'
          description: ''
  /api/subscriptions/:
    get:
      operationId: subscriptions_list
      description: A simple ViewSet for viewing and editing Subscriptions.
      tags:
      - subscriptions
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SubscriptionRead'
          description: ''
    post:
      operationId: subscriptions_create
      description: A simple ViewSet for viewing and editing Subscriptions.
      tags:
      - subscriptions
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Subscription'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Subscription'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Subscription'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
          description: ''
  /api/subscriptions/{id}/:
    get:
      operationId: subscriptions_retrieve
      description: A simple ViewSet for viewing and editing Subscriptions.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this subscription.
        required: true
      tags:
      - subscriptions
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionRead'
          description: ''
  /api/track/:
    post:
      operationId: track_create
      tags:
      - track
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchEvent'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BatchEvent'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BatchEvent'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrackEventSuccess'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrackEventFailure'
          description: ''
  /api/update_billing_plan/:
    post:
      operationId: update_billing_plan_create
      tags:
      - update_billing_plan
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBillingPlanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UpdateBillingPlanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UpdateBillingPlanRequest'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateBillingPlanSuccess'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateBillingPlanFailure'
          description: ''
  /api/update_subscription/:
    post:
      operationId: update_subscription_create
      tags:
      - update_subscription
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSubscriptionBillingPlanRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UpdateSubscriptionBillingPlanRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UpdateSubscriptionBillingPlanRequest'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateSubscriptionBillingPlanSuccess'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateSubscriptionBillingPlanFailure'
          description: ''
  /api/users/:
    get:
      operationId: users_list
      description: A simple ViewSet for viewing and editing Users.
      tags:
      - users
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
          description: ''
    post:
      operationId: users_create
      description: A simple ViewSet for viewing and editing Users.
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/users/{id}/:
    get:
      operationId: users_retrieve
      description: A simple ViewSet for viewing and editing Users.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - users
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: users_update
      description: A simple ViewSet for viewing and editing Users.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: users_partial_update
      description: A simple ViewSet for viewing and editing Users.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - users
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    delete:
      operationId: users_destroy
      description: A simple ViewSet for viewing and editing Users.
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this user.
        required: true
      tags:
      - users
      security:
      - cookieAuth: []
      - OrganizationApiKeyAuth: []
      responses:
        '204':
          description: No response body
components:
  schemas:
    APIKeyCreateSuccess:
      type: object
      properties:
        api_key:
          type: string
      required:
      - api_key
    AggregationTypeEnum:
      enum:
      - count
      - sum
      - max
      - unique
      - last
      type: string
    BatchEvent:
      type: object
      properties:
        batch:
          type: array
          items:
            $ref: '#/components/schemas/Event'
      required:
      - batch
    BillableMetric:
      type: object
      properties:
        event_name:
          type: string
          maxLength: 200
        property_name:
          type: string
          nullable: true
          maxLength: 200
        aggregation_type:
          $ref: '#/components/schemas/AggregationTypeEnum'
        billable_metric_name:
          type: string
          maxLength: 200
        event_type:
          $ref: '#/components/schemas/EventTypeEnum'
        stateful_aggregation_period:
          nullable: true
          oneOf:
          - $ref: '#/components/schemas/StatefulAggregationPeriodEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
      required:
      - event_name
    BillingPlan:
      type: object
      properties:
        currency:
          type: string
          maxLength: 30
        interval:
          $ref: '#/components/schemas/IntervalEnum'
        flat_rate:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        pay_in_advance:
          type: boolean
        billing_plan_id:
          type: string
          maxLength: 255
        name:
          type: string
          maxLength: 200
        description:
          type: string
          maxLength: 256
        components:
          type: array
          items:
            $ref: '#/components/schemas/PlanComponent'
          nullable: true
        features:
          type: array
          items:
            $ref: '#/components/schemas/Feature'
          nullable: true
      required:
      - flat_rate
      - interval
      - name
      - pay_in_advance
    BillingPlanRead:
      type: object
      properties:
        currency:
          type: string
          maxLength: 30
        interval:
          $ref: '#/components/schemas/IntervalEnum'
        flat_rate:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        pay_in_advance:
          type: boolean
        billing_plan_id:
          type: string
          maxLength: 255
        name:
          type: string
          maxLength: 200
        description:
          type: string
          maxLength: 256
        components:
          type: array
          items:
            $ref: '#/components/schemas/PlanComponentRead'
        features:
          type: array
          items:
            $ref: '#/components/schemas/Feature'
          nullable: true
        time_created:
          type: string
          format: date
          readOnly: true
        active_subscriptions:
          type: integer
      required:
      - active_subscriptions
      - components
      - flat_rate
      - interval
      - name
      - pay_in_advance
      - time_created
    BlankEnum:
      enum:
      - ''
    CancelSubscriptionFailure:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status956Enum'
        detail:
          type: string
      required:
      - detail
      - status
    CancelSubscriptionRequest:
      type: object
      properties:
        subscription_uid:
          type: string
        bill_now:
          type: boolean
          default: false
        revoke_access:
          type: boolean
          default: false
      required:
      - subscription_uid
    CancelSubscriptionSuccess:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/StatusE96Enum'
        detail:
          type: string
      required:
      - detail
      - status
    Customer:
      type: object
      properties:
        customer_name:
          type: string
        customer_id:
          type: string
          maxLength: 40
        balance:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
      required:
      - customer_id
      - customer_name
    CustomerDetail:
      type: object
      properties:
        customer_id:
          type: string
          maxLength: 40
        email:
          type: string
          format: email
          nullable: true
          maxLength: 100
        balance:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        billing_address:
          type: string
          nullable: true
          maxLength: 500
        customer_name:
          type: string
        invoices:
          type: object
          additionalProperties: {}
          readOnly: true
        total_revenue_due:
          type: number
          format: double
          readOnly: true
        subscriptions:
          type: array
          items:
            $ref: '#/components/schemas/SubscriptionCustomerDetail'
          readOnly: true
      required:
      - customer_id
      - customer_name
      - invoices
      - subscriptions
      - total_revenue_due
    CustomerName:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
      required:
      - name
    CustomerSummary:
      type: object
      properties:
        customer_name:
          type: string
        customer_id:
          type: string
          maxLength: 40
        subscriptions:
          type: array
          items:
            $ref: '#/components/schemas/SubscriptionCustomerSummary'
          readOnly: true
      required:
      - customer_id
      - customer_name
      - subscriptions
    CustomerWithRevenue:
      type: object
      properties:
        customer_id:
          type: string
          maxLength: 40
        total_revenue_due:
          type: number
          format: double
          readOnly: true
      required:
      - customer_id
      - total_revenue_due
    DayMetricRevenue:
      type: object
      properties:
        date:
          type: string
          format: date
        metric_revenue:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
      required:
      - date
      - metric_revenue
    DayMetricUsage:
      type: object
      properties:
        date:
          type: string
          format: date
        customer_usages:
          type: object
          additionalProperties:
            type: number
            format: double
            maximum: 10000000000
            minimum: -10000000000
            exclusiveMaximum: true
            exclusiveMinimum: true
      required:
      - customer_usages
      - date
    Event:
      type: object
      properties:
        event_name:
          type: string
          maxLength: 200
        properties:
          type: object
          additionalProperties: {}
          nullable: true
        time_created:
          type: string
          format: date-time
        idempotency_id:
          type: string
          maxLength: 255
        customer_id:
          type: string
      required:
      - customer_id
      - event_name
      - idempotency_id
      - time_created
    EventPreview:
      type: object
      properties:
        events:
          type: array
          items:
            $ref: '#/components/schemas/Event'
        total_pages:
          type: integer
      required:
      - events
      - total_pages
    EventTypeEnum:
      enum:
      - aggregation
      - stateful
      type: string
    Feature:
      type: object
      properties:
        feature_name:
          type: string
          maxLength: 200
        feature_description:
          type: string
          nullable: true
          maxLength: 200
      required:
      - feature_name
    GetCustomerAccessFailure:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status956Enum'
        detail:
          type: string
      required:
      - detail
      - status
    GetCustomerAccessSuccess:
      type: object
      properties:
        access:
          type: boolean
        usages:
          type: array
          items:
            $ref: '#/components/schemas/MetricUsage'
      required:
      - access
    IntervalEnum:
      enum:
      - week
      - month
      - year
      type: string
    Invoice:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        cost_due_currency:
          type: string
          readOnly: true
        cost_due:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        issue_date:
          type: string
          format: date-time
          readOnly: true
        invoice_pdf:
          type: string
          format: uri
          nullable: true
        org_connected_to_cust_payment_provider:
          type: boolean
        cust_connected_to_payment_provider:
          type: boolean
        payment_status:
          $ref: '#/components/schemas/PaymentStatusEnum'
        external_payment_obj_id:
          type: string
          nullable: true
          maxLength: 240
        line_items:
          type: object
          additionalProperties: {}
        organization:
          type: object
          additionalProperties: {}
        customer:
          type: object
          additionalProperties: {}
        subscription:
          type: object
          additionalProperties: {}
      required:
      - cost_due_currency
      - customer
      - id
      - issue_date
      - line_items
      - organization
      - payment_status
      - subscription
    MetricUsage:
      type: object
      properties:
        metric_name:
          type: string
        metric_usage:
          type: number
          format: double
        metric_limit:
          type: number
          format: double
        access:
          type: boolean
      required:
      - access
      - metric_limit
      - metric_name
      - metric_usage
    NullEnum:
      enum:
      - null
    PatchedBillableMetric:
      type: object
      properties:
        event_name:
          type: string
          maxLength: 200
        property_name:
          type: string
          nullable: true
          maxLength: 200
        aggregation_type:
          $ref: '#/components/schemas/AggregationTypeEnum'
        billable_metric_name:
          type: string
          maxLength: 200
        event_type:
          $ref: '#/components/schemas/EventTypeEnum'
        stateful_aggregation_period:
          nullable: true
          oneOf:
          - $ref: '#/components/schemas/StatefulAggregationPeriodEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
    PatchedCustomer:
      type: object
      properties:
        customer_name:
          type: string
        customer_id:
          type: string
          maxLength: 40
        balance:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
    PatchedFeature:
      type: object
      properties:
        feature_name:
          type: string
          maxLength: 200
        feature_description:
          type: string
          nullable: true
          maxLength: 200
    PatchedInvoice:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        cost_due_currency:
          type: string
          readOnly: true
        cost_due:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        issue_date:
          type: string
          format: date-time
          readOnly: true
        invoice_pdf:
          type: string
          format: uri
          nullable: true
        org_connected_to_cust_payment_provider:
          type: boolean
        cust_connected_to_payment_provider:
          type: boolean
        payment_status:
          $ref: '#/components/schemas/PaymentStatusEnum'
        external_payment_obj_id:
          type: string
          nullable: true
          maxLength: 240
        line_items:
          type: object
          additionalProperties: {}
        organization:
          type: object
          additionalProperties: {}
        customer:
          type: object
          additionalProperties: {}
        subscription:
          type: object
          additionalProperties: {}
    PatchedPlanComponent:
      type: object
      properties:
        billable_metric_name:
          type: string
        free_metric_units:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        cost_per_batch:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        metric_units_per_batch:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        max_metric_units:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
    PatchedUser:
      type: object
      properties:
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        password:
          type: string
          maxLength: 128
    PaymentStatusEnum:
      enum:
      - draft
      - paid
      - unpaid
      type: string
    PeriodMetricRevenueResponse:
      type: object
      properties:
        daily_usage_revenue_period_1:
          type: array
          items:
            $ref: '#/components/schemas/PeriodSingleMetricRevenue'
        total_revenue_period_1:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        daily_usage_revenue_period_2:
          type: array
          items:
            $ref: '#/components/schemas/PeriodSingleMetricRevenue'
        total_revenue_period_2:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
      required:
      - daily_usage_revenue_period_1
      - daily_usage_revenue_period_2
      - total_revenue_period_1
      - total_revenue_period_2
    PeriodMetricUsageResponse:
      type: object
      properties:
        metrics:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/PeriodSingleMetricUsage'
      required:
      - metrics
    PeriodSingleMetricRevenue:
      type: object
      properties:
        metric:
          type: string
        data:
          type: array
          items:
            $ref: '#/components/schemas/DayMetricRevenue'
        total_revenue:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
      required:
      - data
      - metric
      - total_revenue
    PeriodSingleMetricUsage:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/DayMetricUsage'
        total_usage:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
        top_n_customers:
          type: array
          items:
            $ref: '#/components/schemas/CustomerName'
        top_n_customers_usage:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
      required:
      - data
      - total_usage
    PeriodSubscriptionsResponse:
      type: object
      properties:
        period_1_total_subscriptions:
          type: integer
        period_1_new_subscriptions:
          type: integer
        period_2_total_subscriptions:
          type: integer
        period_2_new_subscriptions:
          type: integer
      required:
      - period_1_new_subscriptions
      - period_1_total_subscriptions
      - period_2_new_subscriptions
      - period_2_total_subscriptions
    PlanComponent:
      type: object
      properties:
        billable_metric_name:
          type: string
        free_metric_units:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        cost_per_batch:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        metric_units_per_batch:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        max_metric_units:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
      required:
      - billable_metric_name
    PlanComponentRead:
      type: object
      properties:
        billable_metric:
          $ref: '#/components/schemas/BillableMetric'
        free_metric_units:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        cost_per_batch:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        metric_units_per_batch:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
        max_metric_units:
          type: number
          format: double
          maximum: 10000000000
          minimum: -10000000000
          exclusiveMaximum: true
          exclusiveMinimum: true
          nullable: true
      required:
      - billable_metric
    Registration:
      type: object
      properties:
        register:
          $ref: '#/components/schemas/RegistrationDetail'
      required:
      - register
    RegistrationDetail:
      type: object
      properties:
        company_name:
          type: string
        industry:
          type: string
        email:
          type: string
        password:
          type: string
        username:
          type: string
      required:
      - company_name
      - email
      - industry
      - password
      - username
    RegistrationResponse:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    StatefulAggregationPeriodEnum:
      enum:
      - day
      - hour
      type: string
    Status956Enum:
      enum:
      - error
      type: string
    StatusE96Enum:
      enum:
      - success
      type: string
    StripeConnectRequest:
      type: object
      properties:
        authorization_code:
          type: string
      required:
      - authorization_code
    StripeConnectedResponse:
      type: object
      properties:
        connected:
          type: boolean
      required:
      - connected
    StripeImportError:
      type: object
      properties:
        success:
          type: boolean
        details:
          type: string
      required:
      - details
      - success
    StripeImportResponse:
      type: object
      properties:
        success:
          type: boolean
      required:
      - success
    Subscription:
      type: object
      properties:
        customer_id:
          type: string
        billing_plan_id:
          type: string
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        status:
          type: string
        auto_renew:
          type: boolean
        is_new:
          type: boolean
        subscription_uid:
          type: string
      required:
      - billing_plan_id
      - customer_id
      - start_date
    SubscriptionCustomerDetail:
      type: object
      properties:
        billing_plan_name:
          type: string
        subscription_uid:
          type: string
          maxLength: 100
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        auto_renew:
          type: boolean
        status:
          $ref: '#/components/schemas/SubscriptionCustomerDetailStatusEnum'
      required:
      - billing_plan_name
      - end_date
      - start_date
    SubscriptionCustomerDetailStatusEnum:
      enum:
      - active
      - ended
      - not_started
      - canceled
      type: string
    SubscriptionCustomerSummary:
      type: object
      properties:
        billing_plan_name:
          type: string
        end_date:
          type: string
          format: date
        auto_renew:
          type: boolean
      required:
      - billing_plan_name
      - end_date
    SubscriptionRead:
      type: object
      properties:
        customer:
          $ref: '#/components/schemas/Customer'
        billing_plan:
          $ref: '#/components/schemas/BillingPlanRead'
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        status:
          type: string
      required:
      - billing_plan
      - customer
      - start_date
    TrackEventFailure:
      type: object
      properties:
        success:
          $ref: '#/components/schemas/TrackEventFailureSuccessEnum'
        failed_events:
          type: object
          additionalProperties: {}
      required:
      - failed_events
      - success
    TrackEventFailureSuccessEnum:
      enum:
      - none
      type: string
    TrackEventSuccess:
      type: object
      properties:
        success:
          $ref: '#/components/schemas/TrackEventSuccessSuccessEnum'
        failed_events:
          type: object
          additionalProperties: {}
      required:
      - success
    TrackEventSuccessSuccessEnum:
      enum:
      - all
      - some
      type: string
    UpdateBehaviorEnum:
      enum:
      - replace_immediately
      - replace_on_renewal
      type: string
    UpdateBillingPlanFailure:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status956Enum'
        detail:
          type: string
      required:
      - detail
      - status
    UpdateBillingPlanRequest:
      type: object
      properties:
        old_billing_plan_id:
          type: string
        updated_billing_plan:
          $ref: '#/components/schemas/BillingPlan'
        update_behavior:
          $ref: '#/components/schemas/UpdateBehaviorEnum'
      required:
      - old_billing_plan_id
      - update_behavior
      - updated_billing_plan
    UpdateBillingPlanSuccess:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/StatusE96Enum'
        detail:
          type: string
      required:
      - detail
      - status
    UpdateSubscriptionBillingPlanFailure:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status956Enum'
        detail:
          type: string
      required:
      - detail
      - status
    UpdateSubscriptionBillingPlanRequest:
      type: object
      properties:
        subscription_uid:
          type: string
        new_billing_plan_id:
          type: string
        update_behavior:
          $ref: '#/components/schemas/UpdateBehaviorEnum'
      required:
      - new_billing_plan_id
      - subscription_uid
      - update_behavior
    UpdateSubscriptionBillingPlanSuccess:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/StatusE96Enum'
        detail:
          type: string
      required:
      - detail
      - status
    User:
      type: object
      properties:
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        password:
          type: string
          maxLength: 128
      required:
      - password
      - username
  securitySchemes:
    OrganizationApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-KEY
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
